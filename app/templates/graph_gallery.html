<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Graphify - Graph Gallery</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>

<header>
  <div class="gallery-title">ðŸ“Š Explore Graph Types</div>
  <p>Click a graph to start visualizing with Seaborn or Matplotlib</p>
</header>

<section class="graph-grid">
  {% for graph in ['Line Plot', 'Bar Plot', 'Histogram', 'Count Plot', 'Heatmap', 'Scatter Plot', 'Pie Chart', 'Box Plot', 'Violin Plot'] %}
  <div class="graph-card" onclick="showDropdown('{{ graph }}')">
    <div class="graph-icon">ðŸ“Š</div>
    <div class="graph-name">{{ graph }}</div>
  </div>
  {% endfor %}
</section>

<!-- Modal -->
<div class="modal" id="dropdownModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeDropdown()">&times;</span>
    <h3 id="selectedGraph">Selected:</h3>
    <form action="{{ url_for('main.plot_graph') }}" method="POST">
      <input type="hidden" name="graph_type" id="graphTypeInput" />

      <!-- Label for pie chart -->
      <div id="labelDiv">
        <label>Label Column:
          <select name="label_column" id="labelSelect">
            {% for col in columns %}
            <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
          </select>
        </label>
      </div>

      <!-- X-axis -->
      <div id="xDiv">
        <label>X-axis:
          <select name="x_column" id="xSelect">
            {% for col in columns %}
            <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
          </select>
        </label>
      </div>

      <!-- Y-axis -->
      <div id="yDiv">
        <label>Y-axis:
          <select name="y_column" id="ySelect">
            {% for col in columns %}
            <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
          </select>
        </label>
      </div>

      <!-- Hue -->
      <div id="hueDiv">
        <label>Hue:
          <select name="hue_column" id="hueSelect">
            <option value="">None</option>
            {% for col in columns %}
            <option value="{{ col }}">{{ col }}</option>
            {% endfor %}
          </select>
        </label>
      </div>

      <!-- Palette -->
      <div id="paletteDiv">
        <label>Palette:
          <select name="palette">
            {% for pal in ['Set2','Set1','tab10','pastel','muted','dark'] %}
            <option value="{{ pal }}">{{ pal }}</option>
            {% endfor %}
          </select>
        </label>
      </div>

      <!-- Legend toggle -->
      <div id="legendDiv" style="margin-top:10px;">
        <label><input type="checkbox" name="show_legend" checked> Show Legend</label>
      </div>

      <br><br>
      <button type="submit">Plot Graph</button>
    </form>
  </div>
</div>

<script src="{{ url_for('static', filename='javascript/script.js') }}"></script>
</body>
</html>
